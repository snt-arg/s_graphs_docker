!function(e){"use strict";function t(){for(var e=s(),t=0;t<l;++t){var n=v[t],r=e.indexOf(t),a=j[t];c!==t?(classie.add(n,"page--inactive"),-1!==r?(a.style.WebkitTransform="translate3d(0,100%,0)",a.style.transform="translate3d(0,100%,0)"):(a.style.WebkitTransform="translate3d(0,75%,-300px)",a.style.transform="translate3d(0,75%,-300px)")):classie.remove(n,"page--inactive"),a.style.zIndex=t<c?parseInt(15):parseInt(15-t),n.style.opacity=-1!==r?parseFloat(1-.1*r):0}}function n(e){f?r():(!function(){b=jQuery(document).scrollTop(),v[0].style.top=-1*b+"px";!function(){jQuery(".hamburger-nav-controller .be-mobile-menu-icon").addClass("is-clicked"),jQuery(".be-sidemenu").addClass("opened"),jQuery("body").addClass("side-menu-opened page-stack-top-opened"),jQuery("body").hasClass("admin-bar")&&jQuery("html").css("height","calc(100% - 32px)"),jQuery(".be-sidemenu").css({width:"100vw",height:"50%",visibility:"visible"});var e=function(t){t.stopPropagation(),!jQuery("body").hasClass("side-menu-opened")&&jQuery(t.target).hasClass("be-sidemenu")&&(jQuery(this).unbind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",e),jQuery(".be-sidemenu").css({width:"1px",height:"1px",visibility:"hidden"}))};jQuery(".be-sidemenu").bind("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",e),jQuery(u).addClass("pages-stack--open");var t=s(),n=jQuery("body").hasClass("header-solid")?Number(jQuery("#header-wrap").attr("data-default-height")):0;setTimeout(function(){var e=.75*y-n+"px";Q.css("perspective","1200px");for(var r=0,a=t.length;r<a;++r){var s=j[t[r]];s.style.transform="translate3d(0,0,0)",s.style.WebkitTransform="translate3d(0,"+e+", "+parseInt(-200-50*r)+"px)",s.style.transform="translate3d(0,"+e+", "+parseInt(-200-50*r)+"px)"}},0)}()}(),f=!0)}function r(){a()}function a(n){var r=j[c],a=s(c);r.style.WebkitTransform="translate3d(0, 0, 0)",r.style.transform="",r.style.opacity=1;for(var i=0,o=a.length;i<o;++i){var y=j[a[i]];y.style.WebkitTransform="translate3d(0,100%,0)",y.style.transform="translate3d(0,100%,0)"}jQuery(".hamburger-nav-controller .be-mobile-menu-icon").removeClass("is-clicked"),jQuery(".be-sidemenu").removeClass("opened"),jQuery("body").removeClass("side-menu-opened"),jQuery("body").hasClass("admin-bar")&&jQuery("html").css("height",""),d(r,function(){jQuery(u).removeClass("pages-stack--open"),jQuery("body").removeClass("page-stack-top-opened"),Q.css("perspective","");for(var r=0;r<l;r++)v[r].style.top="0px";jQuery("body,html").scrollTop(b),n&&e.oshine_scripts.animate_scroll(jQuery("#"+n)),t(),f=!1})}function s(e){var t=c+1,n=c+2,r=[];return e!=c&&r.push(c),e!=t&&r.push(t),e!=n&&r.push(n),r}var i=Modernizr.csstransitions,o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[Modernizr.prefixed("transition")],d=function(e,t){var n=function(e){if(i){if(e.target!=this)return;this.removeEventListener(o,n)}t&&"function"==typeof t&&t.call(this)};i?e.addEventListener(o,n):n()},u=document.getElementsByClassName("be-page-stack-wrapper")[0],l=(document.getElementById("header-inner-wrap"),3),c=0,y=e.innerHeight,p=document.querySelector(".hamburger-nav-controller-wrap"),m=document.querySelector(".special-header-menu"),h=jQuery(m).find(".menu-item a").toArray(),f=!1,b=0,v=(jQuery("body").hasClass("header-solid")&&(jQuery("#header-wrap").attr("data-default-height"),jQuery("#header-wrap").attr("data-sticky-height")),jQuery(".be-page-stack")),j=jQuery(".be-page-stack-container"),Q=jQuery(".be-page-stack-wrapper");t(),function(){p.addEventListener("click",n);var t=e.location.href;h.forEach(function(e){var n,r=e.getAttribute("href"),s=r.split("#");if("#"==r)return!1;r.indexOf("#")>=0&&t.indexOf(s[0])>=0&&(n=r.substring(r.indexOf("#")+1))&&jQuery("#"+n).length>0&&e.addEventListener("click",function(e){e.preventDefault(),a(n)})}),Array.prototype.forEach.call(v,function(e){e.addEventListener("click",function(e){f&&(e.preventDefault(),r())})}),document.addEventListener("keyup",function(e){f&&27===(e.keyCode||e.which)&&r()}),jQuery(e).on("resize",function(){jQuery(e).width()<=960&&f&&r()})}()}(window);
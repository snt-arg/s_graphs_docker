!function(n){"use strict";redux.field_objects=redux.field_objects||{},redux.field_objects.border=redux.field_objects.border||{},redux.field_objects.border.init=function(e){e||(e=n(document).find(".redux-group-tab:visible").find(".redux-container-border:visible")),n(e).each(function(){var i=n(this),e=i;if(i.hasClass("redux-field-container")||(e=i.parents(".redux-field-container:first")),!e.is(":hidden")&&e.hasClass("redux-field-init")){e.removeClass("redux-field-init"),i.find(".redux-border-top, .redux-border-right, .redux-border-bottom, .redux-border-left, .redux-border-all").numeric({allowMinus:!1});var r={triggerChange:!0,allowClear:!0},d=i.find(".redux-container-border").find(".select2_params");if(0<d.size()){var t=d.val();t=JSON.parse(t),r=n.extend({},r,t)}i.find(".redux-border-style").select2(r),i.find(".redux-border-input").on("change",function(){var e=n(this).parents(".redux-field:first").find(".field-units").val();0!==n(this).parents(".redux-field:first").find(".redux-border-units").length&&(e=n(this).parents(".redux-field:first").find(".redux-border-units option:selected").val());var r=n(this).val();void 0!==e&&r&&(r+=e),n(this).hasClass("redux-border-all")?n(this).parents(".redux-field:first").find(".redux-border-value").each(function(){n(this).val(r)}):n("#"+n(this).attr("rel")).val(r)}),i.find(".redux-border-units").on("change",function(){n(this).parents(".redux-field:first").find(".redux-border-input").change()}),i.find(".redux-color-init").wpColorPicker({change:function(e,r){n(this).val(r.color.toString()),redux_change(n(this)),i.find("#"+e.target.getAttribute("data-id")+"-transparency").removeAttr("checked")},clear:function(e,r){n(this).val(r.color.toString()),redux_change(n(this).parent().find(".redux-color-init"))}}),i.find(".redux-color").on("keyup",function(){var e=colorValidate(this);e&&e!==n(this).val()&&n(this).val(e)}),i.find(".redux-color").on("blur",function(){var e=n(this).val();colorValidate(this)===e&&0!==e.indexOf("#")&&n(this).val(n(this).data("oldcolor"))}),i.find(".redux-color").on("keydown",function(){n(this).data("oldkeypress",n(this).val())})}})}}(jQuery);